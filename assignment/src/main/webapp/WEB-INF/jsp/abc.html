
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib uri="http://java.sun.com/jstl/sql" prefix="sql" %>
<%@ taglib prefix="s" uri="http://www.springframework.org/tags/form"%>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
      xmlns:th="http://www.thymeleaf.org">

<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add Product</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <script src=https://code.jquery.com/jquery-1.12.4.js></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        $( function() {
            $( "#datepicker" ).datepicker();
        } );
    </script>
    <style type="text/css">
        .error {
            color: red;
        }
    </style>
</head>
<body>
<div class="container text-center">
    <h1></h1>
    <p></p>
</div>
<nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Logo</a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">Home</a></li>
                <li><a href="product_all">Products</a></li>
                <li><a href="AddProduct">Add Product</a></li>
                <li><a href="#">Stores</a></li>
                <li><a href="#">Contact</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#"><span class="glyphicon glyphicon-user"></span> Your Account</a></li>
                <li><a href="#"><span class="glyphicon glyphicon-shopping-cart"></span> Cart</a></li>
            </ul>
        </div>
    </div>
</nav>



<s:form action="${pageContext.request.contextPath}/AddProduct" method="post" name="frm" modelAttribute="${product}">

    <table cellpadding="10" cellspacing="10" border="0">

        <tr>
            <td>ISBN</td>
            <td><s:input type="text" name="ISBN" path="ISBN"/></td>
            <td><s:errors path="ISBN" cssClass="error"></s:errors></td>
        </tr>

        <tr>
            <td>Title</td>
            <td><input type="text" name="title"></td>
        </tr>

        <tr>
            <td>Author</td>
            <td><input type="text" name="author"></td>
        </tr>

        <tr>
            <td>Publication Date</td>
            <td><input type="text" id="datepicker" name="p_date"></td>
        </tr>

        <tr>
            <td>Quantity</td>
            <td><input type="number" name="quantity"></td>
        </tr>

        <tr>
            <td>Price</td>
            <td><s:input type="number" name="price" path="price"/></td>
            <td><s:errors path="price" cssClass="error"></s:errors></td>
        </tr>

        <tr>
            <td><input type="submit" name="action" value="insert"></td>

        </tr>

    </table>
    <c:set var="total" value="0"></c:set>
    <c:forEach items="${cart}" var="cart">
        <c:set var="total"
               value="${total + cart.getProduct().getPrice() * cart.getQuantity() }"></c:set>
        <tr>
            <td align="center"><a
                    href="${pageContext.request.contextPath }/cart/remove/${cart.getProduct().getId()}"
                    onclick="return confirm('Are you sure?')">Remove</a></td>
            <td>${cart.getProduct().getTitle()}</td>
            <td>${cart.getProduct().getPrice()}</td>
            <td>${cart.getQuantity()}</td>
            <td>${cart.getProduct().getPrice() * cart.getQuantity()}</td>
        </tr>
    </c:forEach>
    <tr>
        <td colspan="6" align="right">Sum</td>
        <td>${total }</td>
    </tr>
    </table>
    <br>
    <a href="${pageContext.request.contextPath }/product">Continue
        Shopping</a>

</s:form>
<div class="bs-component">
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th scope="col">Type</th>
                    <th scope="col">Column heading</th>
                    <th scope="col">Column heading</th>
                    <th scope="col">Column heading</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="table-active">
                    <th scope="row">Active</th>
                    <td>Column content</td>
                    <td>Column content</td>
                    <td>Column content</td>
                  </tr>
                  <tr>
                    <th scope="row">Default</th>
                    <td>Column content</td>
                    <td>Column content</td>
                    <td>Column content</td>
                  </tr>
                  <tr class="table-primary">
                    <th scope="row">Primary</th>
                    <td>Column content</td>
                    <td>Column content</td>
                    <td>Column content</td>
                  </tr>
                  <tr class="table-secondary">
                    <th scope="row">Secondary</th>
                    <td>Column content</td>
                    <td>Column content</td>
                    <td>Column content</td>
                  </tr>
                  <tr class="table-success">
                    <th scope="row">Success</th>
                    <td>Column content</td>
                    <td>Column content</td>
                    <td>Column content</td>
                  </tr>
                  <tr class="table-danger">
                    <th scope="row">Danger</th>
                    <td>Column content</td>
                    <td>Column content</td>
                    <td>Column content</td>
                  </tr>
                  <tr class="table-warning">
                    <th scope="row">Warning</th>
                    <td>Column content</td>
                    <td>Column content</td>
                    <td>Column content</td>
                  </tr>
                  <tr class="table-info">
                    <th scope="row">Info</th>
                    <td>Column content</td>
                    <td>Column content</td>
                    <td>Column content</td>
                  </tr>
                  <tr class="table-light">
                    <th scope="row">Light</th>
                    <td>Column content</td>
                    <td>Column content</td>
                    <td>Column content</td>
                  </tr>
                  <tr class="table-dark">
                    <th scope="row">Dark</th>
                    <td>Column content</td>
                    <td>Column content</td>
                    <td>Column content</td>
                  </tr>
                </tbody>
              </table>
            <button class="source-button btn btn-primary btn-xs" role="button" tabindex="0">&lt; &gt;</button></div>

</body>
</html>